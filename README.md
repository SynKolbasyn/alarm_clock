# Умный будильник (Smart Alarm Clock)

Проект "Умный будильник" представляет собой систему, которая использует компьютерное зрение для определения пробуждения пользователя. Система состоит из трех основных компонентов: ESP32 с камерой, серверного бэкенда и мобильного приложения для Android.

## Структура проекта

- `android/` - Мобильное приложение для Android
- `backend/` - Серверная часть с алгоритмами компьютерного зрения
- `esp32/` - Прошивка для микроконтроллера ESP32
- `docs/` - Документация проекта

## Требования

### ESP32
- ESP-IDF (Espressif IoT Development Framework)
- Микроконтроллер ESP32-S3
- Камера, совместимая с ESP32

### Серверная часть
- Docker и Docker Compose
- Python 3.x
- OpenCV
- tensorflow
- FastAPI

### Мобильное приложение
- Android 11 и выше
- Android Studio для сборки

## Установка и настройка

### 1. Мобильное приложение

1. Перейдите в папку `android/`
2. Соберите APK с помощью Android Studio или Gradle
3. Установите полученный APK на телефон с Android 11 или выше

### 2. Серверная часть

1. Перейдите в папку `backend/`
2. Запустите сервер с помощью Docker Compose:
   ```
   docker compose up --build
   ```
3. Для настройки распознавания поз:
   - Замените изображение `template.jpg` на вашу эталонную позу
   - При необходимости установите зависимости:
     ```
     apt-get install ffmpeg libsm6 libgl1 libxext6 -y
     curl -LsSf https://astral.sh/uv/install.sh | sh
     ```

### 3. Настройка ESP32

1. Перейдите в папку `esp32/alarm_clock/`
2. Установите целевую платформу:
   ```
   idf.py set-target esp32s3
   ```
3. Добавьте зависимости:
   ```
   idf.py add-dependency "espressif/esp32-camera"
   ```
4. Настройте проект:
   ```
   idf.py menuconfig
   ```
   - Установите параметры Wi-Fi (SSID и пароль)
   - Включите поддержку исключений C++ (`CONFIG_COMPILER_CXX_EXCEPTIONS`)
   - Включите RTTI (`CONFIG_COMPILER_CXX_RTTI`)
   - Настройте PSRAM в режиме OCTO с частотой 80 МГц
5. Соберите проект:
   ```
   idf.py build
   ```
6. Прошейте микроконтроллер:
   ```
   idf.py flash
   ```
7. При необходимости мониторинга:
   ```
   idf.py monitor
   ```

## Принцип работы

Система работает следующим образом:
1. Мобильное приложение позволяет настроить время будильника
2. ESP32 с камерой отслеживает пробуждение пользователя
3. Серверная часть анализирует изображения с камеры и определяет, проснулся ли пользователь
4. При обнаружении пробуждения, будильник отключается

## Лицензия

[Указать информацию о лицензии]

## Авторы

[Указать информацию об авторах проекта]
